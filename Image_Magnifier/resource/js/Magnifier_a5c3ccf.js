!function(t){function i(t){function i(t){null!=t&&(this.DOM.style.transform="scale(1)",this.DOM.style.webkitTransform="scale(1)",e.bind(this)(t.Index))}function e(t){if("[object Number]"==Object.prototype.toString.call(t)&&!(0>t||t>=this.OriginDom_Arr.length)){this.TipDom.innerText=t+1+"/"+this.OriginDom_Arr.length;var i=this.CurrentModel;if(i.Image&&i.Image.scaleX&&(i.Image.scaleX=i.Image.scaleY=1),this.ImageBox.style.width=this.OriginDom_Arr.length*window.innerWidth+"px",this.CurrentModel=this.OriginDom_Arr[t]||{},this.CurrentModel.Loaded)this.LoadingDom.style.display="none";else if(this.LoadingDom.style.display="block",null==this.CurrentModel.Image){var e=document.createElement("img");this.OriginDom_Model[this.CurrentModel.AutoId].Image=this.OriginDom_Arr[this.CurrentModel.Index].Image=Transform(e),this.OriginDom_Model[this.CurrentModel.AutoId].ImageFinger=this.OriginDom_Arr[this.CurrentModel.Index].ImageFinger=new AlloyFinger(e,{});var s=new Image;e.src=this.CurrentModel.Url,s.src=this.CurrentModel.Url,s.onload=s.onerror=function(){this.LoadingDom.style.display="none",this.OriginDom_Model[this.CurrentModel.AutoId].Loaded=this.OriginDom_Arr[this.CurrentModel.Index].Loaded=!0;var t=this.ImageBox.querySelector("."+this.Magnifier_Img_Class+"[data-_magnifier_view='"+this.CurrentModel.AutoId+"']");t&&t.appendChild(e)}.bind(this)}else{var s=new Image;e.src=this.CurrentModel.Url,s.src=this.CurrentModel.Url,s.onload=s.onerror=function(){this.LoadingDom.style.display="none",this.OriginDom_Model[this.CurrentModel.AutoId].Loaded=this.OriginDom_Arr[this.CurrentModel.Index].Loaded=!0;var t=this.ImageBox.querySelector("."+this.Magnifier_Img_Class+"[data-_magnifier_view='"+this.CurrentModel.AutoId+"']");t&&t.appendChild(e)}.bind(this)}{var r=Math.abs(this.DOM.translateX||0)%window.innerWidth;parseInt(Math.abs(this.DOM.translateX||0)/window.innerWidth)}5>=r&&(this.ImageBox.translateX=0==t?0:-t*window.innerWidth),n.bind(this)(t)}}function n(t){function i(t){if("[object Object]"==Object.prototype.toString.call(t)&&!t.Loaded)if(null==t.Image){var i=document.createElement("img");this.OriginDom_Model[t.AutoId].Image=this.OriginDom_Arr[t.Index].Image=Transform(i),this.OriginDom_Model[t.AutoId].ImageFinger=this.OriginDom_Arr[t.Index].ImageFinger=new AlloyFinger(i,{});var e=new Image;i.src=t.Url,e.src=t.Url,e.onload=e.onerror=function(){this.LoadingDom.style.display="none",this.OriginDom_Model[this.CurrentModel.AutoId].Loaded=this.OriginDom_Arr[t.Index].Loaded=!0;var e=this.ImageBox.querySelector("."+this.Magnifier_Img_Class+"[data-_magnifier_view='"+t.AutoId+"']");e&&e.appendChild(i)}.bind(this)}else{var e=new Image;i.src=t.Url,e.src=t.Url,e.onload=e.onerror=function(){this.LoadingDom.style.display="none",this.OriginDom_Model[t.AutoId].Loaded=this.OriginDom_Arr[t.Index].Loaded=!0;var e=this.ImageBox.querySelector("."+this.Magnifier_Img_Class+"[data-_magnifier_view='"+t.AutoId+"']");e&&e.appendChild(i)}.bind(this)}}if("[object Number]"==Object.prototype.toString.call(t)){var e=t-1>-1&&t-1<this.OriginDom_Arr.length?this.OriginDom_Arr[t-1]:null,n=t+1>-1&&t+1<this.OriginDom_Arr.length?this.OriginDom_Arr[t+1]:null;i.bind(this)(e),i.bind(this)(n)}}this.DOM=document.createElement("div"),this.Magnifier_Img_Class="_img_magnifier_view",this.OriginDom_Model={},this.OriginDom_Arr=[],this.CurrentModel={};var s={el:"img",attr:"src",spaceWidth:100,minScale:.1};if("object"==typeof t)for(var r in s)s[r]=t[r]||s[r];this.SpaceWidth=s.spaceWidth,this.MinScale=s.minScale,this.DOM.innerHTML='<div>\r\n    <div class="_img_magnifier_count_tip">0/0</div>\r\n    <!--loading-->\r\n    <div class="_img_magnifier_spinner">\r\n        <div class="_img_magnifier_bounce1"></div>\r\n        <div class="_img_magnifier_bounce2"></div>\r\n    </div>\r\n    <!--loading-->\r\n    <div class="_img_magnifier_box">\r\n       <!--  <div class="_img_magnifier_item">\r\n            <img class="_img_magnifier_view" src="/resource/img/img2.jpg" alt="">\r\n        </div>\r\n        <div class="_img_magnifier_item">\r\n                <img class="_img_magnifier_view" src="/resource/img/img3.jpg" alt="">\r\n        </div> -->\r\n    </div>\r\n</div>',this.DOM.className="_img_magnifier_wrapper",this.ImageBox=this.DOM.querySelector("._img_magnifier_box"),Transform(this.ImageBox),this.TipDom=this.DOM.querySelector("._img_magnifier_count_tip"),Transform(this.TipDom),this.LoadingDom=this.DOM.querySelector("._img_magnifier_spinner");!function(){function t(){return.5>=s?(r.currentIndex=parseInt(Math.abs(currentTranslateX)/r.winWidth)+1,void(e&&cancelAnimationFrame(e))):(box.translateX-=s/2,currentTranslateX=box.transformX,s-=s/2,void(e=requestAnimationFrame(t)))}function i(){return.5>=s?(r.currentIndex=parseInt(Math.abs(currentTranslateX)/r.winWidth)+1,void(n&&cancelAnimationFrame(n))):(box.translateX+=s/2,currentTranslateX=box.transformX,s-=s/2,void(n=requestAnimationFrame(i)))}var e,n,s=0,r=this;return function(e,n){n>=this.winWidth/2?(s=this.winWidth-n,t()):(s=n,i())}}();this.DOMFinger=new AlloyFinger(this.DOM,{tap:function(){this.DOM.style.transform="scale(0)",this.DOM.style.webkitTransform="scale(0)"}.bind(this),touchEnd:function(){var t=window.innerWidth,i=this.ImageBox.translateX,n=parseInt(Math.abs(i)/t),s=Math.abs(i)%t;e.bind(this)(s>=t/2?n+1:n)}.bind(this),touchStart:function(){n.bind(this)(this.CurrentModel?this.CurrentModel.Index:0)}.bind(this),pressMove:function(t){if(!(this.CurrentModel&&this.CurrentModel.Image&&this.CurrentModel.scaleX>1||Math.abs(t.deltaX)<=Math.abs(t.deltaY))){if(t.deltaX>0){if(this.ImageBox.translateX>=this.SpaceWidth)return}else if(t.deltaX<0&&Math.abs(this.ImageBox.translateX)>window.innerWidth*this.OriginDom_Arr.length-(window.innerWidth-this.SpaceWidth))return;this.ImageBox.translateX+=t.deltaX}}.bind(this)}),document.body.appendChild(this.DOM);var a=document.createElement("style");a.type="text/css",a.innerHTML='._img_magnifier_wrapper{position:fixed;left:0;right:0;bottom:0;top:0;overflow:hidden;z-index:999;background-color:#000;-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform .3s;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s}._img_magnifier_count_tip{color:#FFF;position:fixed;left:0;right:0;top:5%;text-align:center;z-index:999;width:100vw}._img_magnifier_spinner{width:60px;height:60px;position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:none}._img_magnifier_bounce1,._img_magnifier_bounce2{width:100%;height:100%;border-radius:50%;background-color:#67CF22;opacity:.6;position:absolute;top:0;left:0;-webkit-animation:bounce 2s infinite ease-in-out;animation:bounce 2s infinite ease-in-out}._img_magnifier_bounce2{-webkit-animation-delay:-1s;animation-delay:-1s}@-webkit-keyframes bounce{0%,100%{-webkit-transform:scale(0)}50%{-webkit-transform:scale(1)}}@keyframes bounce{0%,100%{transform:scale(0);-webkit-transform:scale(0)}50%{transform:scale(1);-webkit-transform:scale(1)}}._img_magnifier_box{font-size:0}._img_magnifier_box::after{content:"";clear:left}._img_magnifier_view{width:100vw;height:100vh;overflow:scroll;-webkit-overflow-scrolling:touch;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;float:left}._img_magnifier_view img{max-width:100%!important;-webkit-transform:scale(1.5);-ms-transform:scale(1.5);transform:scale(1.5);z-index:998}._img_magnifier_view img::after{content:"404";background-color:#eee;width:100%;height:40%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}'+("."+this.Magnifier_Img_Class+",{width:"+window.innerWidth+"px}"),document.head.appendChild(a);var o="";[].map.call(document.querySelectorAll(s.el),function(t,e){var n=t.getAttribute(s.attr)||"";if(/(png|jpg|jpeg|bmp)/.test(n.match(/\.([^\.]+)$/i)[1].toLowerCase())&&!t.classList.contains(this.Magnifier_Img_Class)){var r="_magnifier"+Math.random().toString(16).slice(2);t.dataset._magnifier_identifiers=r,o+="<div class='"+this.Magnifier_Img_Class+"' data-_magnifier_view='"+r+"'></div>";var a=new AlloyFinger(t,{}),h={Url:n,Finger:a,Index:e,AutoId:r,Element:t,Loaded:!1};this.OriginDom_Model[r]=h,this.OriginDom_Arr.push(h),a.on("tap",function(){var t=this.Magnifier.OriginDom_Model[this.DOM.dataset._magnifier_identifiers];i.bind(this.Magnifier)(t)}.bind({DOM:t,Magnifier:this}))}}.bind(this)),this.ImageBox.innerHTML=o,sentinel.on(s.el,function(t){var e=t.getAttribute(s.attr)||"";if(/(png|jpg|jpeg|bmp)/.test(e.match(/\.([^\.]+)$/i)[1].toLowerCase())&&!t.classList.contains(this.Magnifier_Img_Class)){var n=t.dataset._magnifier_identifiers||"";if(""==n||!this.OriginDom_Model[n]){var r=t.getBoundingClientRect().top||0,a=this.OriginDom_Arr[this.OriginDom_Arr.length-1].Element.getBoundingClientRect().top||1e7;if(r>=a){var o=new AlloyFinger(element,{}),h="_magnifier"+Math.random().toString(16).slice(2);t.dataset._magnifier_identifiers=h;var l={Url:e,Finger:o,AutoId:h,Element:t,Loaded:!1},d=document.createElement("div");d.className=this.Magnifier_Img_Class,d.dataset._magnifier_view=h,this.ImageBox.appendChild(d),l.Index=this.OriginDom_Arr.length,this.OriginDom_Model[h]=l,this.OriginDom_Arr.push(l),o.on("tap",function(){var t=this.Magnifier.OriginDom_Model[this.DOM.dataset._magnifier_identifiers];i.bind(this.Magnifier)(t)}.bind({DOM:t,Magnifier:this}))}else{var m=JSON.parse(JSON.stringify(this.OriginDom_Model));this.OriginDom_Arr=[],this.OriginDom_Model={},[].map.call(document.querySelectorAll(s.el),function(t,e){var n=t.getAttribute(s.attr)||"";if(/(png|jpg|jpeg|bmp)/.test(n.match(/\.([^\.]+)$/i)[1].toLowerCase())&&!t.classList.contains(this.Magnifier_Img_Class)){var r=t.dataset._magnifier_identifiers||"",a={};if(""!=r&&m[r])a=m[r],a.Index=e,this.OriginDom_Model[a.AutoId]=a,this.OriginDom_Arr.push(a);else{var o=new AlloyFinger(t,{}),h="_magnifier"+Math.random().toString(16).slice(2);t.dataset._magnifier_identifiers=h,a={Url:n,Index:e,Finger:o,AutoId:h,Element:t,Loaded:!1},this.OriginDom_Model[a.AutoId]=a,this.OriginDom_Arr.push(a),o.on("tap",function(){var t=this.Magnifier.OriginDom_Model[this.DOM.dataset._magnifier_identifiers];i.bind(this.Magnifier)(t)}.bind({DOM:t,Magnifier:this}))}}}.bind(this)),this.OriginDom_Arr.map(function(t,i){var e=this.ImageBox.querySelector("."+this.Magnifier_Img_Class+"[data-_magnifier_view='"+t.AutoId+"']");if(null==e){var n=document.createElement("div");if(n.className=this.Magnifier_Img_Class,n.dataset._magnifier_view=t.AutoId,1>i)this.ImageBox.insertBefore(n,this.ImageBox.firstChild);else{var s=this.OriginDom_Arr[i-1].AutoId||Math.random().toString(16).splice(2),r=this.ImageBox.querySelector("."+this.Magnifier_Img_Class+"[data-_magnifier_view='"+s+"']");r&&r.parentNode&&r.nextSibling?r.parentNode.insertBefore(n,r.nextSibling):this.ImageBox.appendChild(n)}}}.bind(this))}}}}.bind(this))}t.requestAnimationFrame=t.requestAnimationFrame||t.webkitRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)},t.cancelAnimationFrame=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||clearTimeout,!function(){function t(t,e,n){for(var s=0,r=e.length;r>s;s++){var a=e[s];i(t,a,n)}}function i(t,i,e){Object.defineProperty(t,i,{get:function(){return this["_"+i]},set:function(t){this["_"+i]=t,e()}})}function e(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}function n(i,n){if(!i.___mixCSS3Transform){var s=["translateX","translateY","translateZ","scaleX","scaleY","scaleZ","rotateX","rotateY","rotateZ","skewX","skewY","originX","originY","originZ"],a=e(i);n||s.push("perspective"),i.___mixCSS3Transform=!0,t(i,s,function(){var t=i.matrix3d.identity().appendTransform(i.translateX,i.translateY,i.translateZ,i.scaleX,i.scaleY,i.scaleZ,i.rotateX,i.rotateY,i.rotateZ,i.skewX,i.skewY,i.originX,i.originY,i.originZ),e=(n?"":"perspective("+i.perspective+"px) ")+"matrix3d("+Array.prototype.slice.call(t.elements).join(",")+")";a?i.style.transform=i.style.msTransform=i.style.OTransform=i.style.MozTransform=i.style.webkitTransform=e:i.transform=e}),i.matrix3d=new r,n||(i.perspective=500),i.scaleX=i.scaleY=i.scaleZ=1,i.translateX=i.translateY=i.translateZ=i.rotateX=i.rotateY=i.rotateZ=i.skewX=i.skewY=i.originX=i.originY=i.originZ=0}}var s=.017453292519943295,r=function(t,i,e,n,s,r,a,o,h,l,d,m,c,u,g,p){this.elements=window.Float32Array?new Float32Array(16):[];var f=this.elements;f[0]=void 0!==t?t:1,f[4]=i||0,f[8]=e||0,f[12]=n||0,f[1]=s||0,f[5]=void 0!==r?r:1,f[9]=a||0,f[13]=o||0,f[2]=h||0,f[6]=l||0,f[10]=void 0!==d?d:1,f[14]=m||0,f[3]=c||0,f[7]=u||0,f[11]=g||0,f[15]=void 0!==p?p:1};r.prototype={set:function(t,i,e,n,s,r,a,o,h,l,d,m,c,u,g,p){var f=this.elements;return f[0]=t,f[4]=i,f[8]=e,f[12]=n,f[1]=s,f[5]=r,f[9]=a,f[13]=o,f[2]=h,f[6]=l,f[10]=d,f[14]=m,f[3]=c,f[7]=u,f[11]=g,f[15]=p,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},multiplyMatrices:function(t,i){var e=t.elements,n=this.elements,s=e[0],r=e[4],a=e[8],o=e[12],h=e[1],l=e[5],d=e[9],m=e[13],c=e[2],u=e[6],g=e[10],p=e[14],f=e[3],_=e[7],v=e[11],M=e[15],w=i[0],y=i[1],b=i[2],T=i[3],x=i[4],I=i[5],D=i[6],A=i[7],O=i[8],C=i[9],X=i[10],L=i[11],S=i[12],k=i[13],Y=i[14],E=i[15];return n[0]=s*w+r*x+a*O+o*S,n[4]=s*y+r*I+a*C+o*k,n[8]=s*b+r*D+a*X+o*Y,n[12]=s*T+r*A+a*L+o*E,n[1]=h*w+l*x+d*O+m*S,n[5]=h*y+l*I+d*C+m*k,n[9]=h*b+l*D+d*X+m*Y,n[13]=h*T+l*A+d*L+m*E,n[2]=c*w+u*x+g*O+p*S,n[6]=c*y+u*I+g*C+p*k,n[10]=c*b+u*D+g*X+p*Y,n[14]=c*T+u*A+g*L+p*E,n[3]=f*w+_*x+v*O+M*S,n[7]=f*y+_*I+v*C+M*k,n[11]=f*b+_*D+v*X+M*Y,n[15]=f*T+_*A+v*L+M*E,this},_rounded:function(t,i){return i=Math.pow(10,i||15),Math.round(t*i)/i},_arrayWrap:function(t){return window.Float32Array?new Float32Array(t):t},appendTransform:function(t,i,e,n,r,a,o,h,l,d,m,c,u,g){var p=o*s,f=this._rounded(Math.cos(p)),_=this._rounded(Math.sin(p)),v=h*s,M=this._rounded(Math.cos(v)),w=this._rounded(Math.sin(v)),y=l*s,b=this._rounded(Math.cos(-1*y)),T=this._rounded(Math.sin(-1*y));return this.multiplyMatrices(this,this._arrayWrap([1,0,0,t,0,f,_,i,0,-_,f,e,0,0,0,1])),this.multiplyMatrices(this,this._arrayWrap([M,0,w,0,0,1,0,0,-w,0,M,0,0,0,0,1])),this.multiplyMatrices(this,this._arrayWrap([b*n,T*r,0,0,-T*n,b*r,0,0,0,0,1*a,0,0,0,0,1])),(d||m)&&this.multiplyMatrices(this,this._arrayWrap([this._rounded(Math.cos(d*s)),this._rounded(Math.sin(d*s)),0,0,-1*this._rounded(Math.sin(m*s)),this._rounded(Math.cos(m*s)),0,0,0,0,1,0,0,0,0,1])),(c||u||g)&&(this.elements[12]-=c*this.elements[0]+u*this.elements[4]+g*this.elements[8],this.elements[13]-=c*this.elements[1]+u*this.elements[5]+g*this.elements[9],this.elements[14]-=c*this.elements[2]+u*this.elements[6]+g*this.elements[10]),this}};var a=function(t,i,e,n,s,r){return this.a=null==t?1:t,this.b=i||0,this.c=e||0,this.d=null==n?1:n,this.tx=s||0,this.ty=r||0,this};a.prototype={identity:function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},appendTransform:function(t,i,e,n,r,a,o,h,l){if(r%360)var d=r*s,m=Math.cos(d),c=Math.sin(d);else m=1,c=0;return a||o?(a*=s,o*=s,this.append(Math.cos(o),Math.sin(o),-Math.sin(a),Math.cos(a),t,i),this.append(m*e,c*e,-c*n,m*n,0,0)):this.append(m*e,c*e,-c*n,m*n,t,i),(h||l)&&(this.tx-=h*this.a+l*this.c,this.ty-=h*this.b+l*this.d),this},append:function(t,i,e,n,s,r){var a=this.a,o=this.b,h=this.c,l=this.d;return this.a=t*a+i*h,this.b=t*o+i*l,this.c=e*a+n*h,this.d=e*o+n*l,this.tx=s*a+r*h+this.tx,this.ty=s*o+r*l+this.ty,this},initialize:function(t,i,e,n,s,r){return this.a=t,this.b=i,this.c=e,this.d=n,this.tx=s,this.ty=r,this},setValues:function(t,i,e,n,s,r){return this.a=null==t?1:t,this.b=i||0,this.c=e||0,this.d=null==n?1:n,this.tx=s||0,this.ty=r||0,this},copy:function(t){return this.setValues(t.a,t.b,t.c,t.d,t.tx,t.ty)}},n.getMatrix3D=function(t){var i={translateX:0,translateY:0,translateZ:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0,originX:0,originY:0,originZ:0,scaleX:1,scaleY:1,scaleZ:1};for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return(new r).identity().appendTransform(i.translateX,i.translateY,i.translateZ,i.scaleX,i.scaleY,i.scaleZ,i.rotateX,i.rotateY,i.rotateZ,i.skewX,i.skewY,i.originX,i.originY,i.originZ).elements},n.getMatrix2D=function(t){var i={translateX:0,translateY:0,rotation:0,skewX:0,skewY:0,originX:0,originY:0,scaleX:1,scaleY:1};for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return(new a).identity().appendTransform(i.translateX,i.translateY,i.scaleX,i.scaleY,i.rotation,i.skewX,i.skewY,i.originX,i.originY)},window.Transform=n}(),!function(){function t(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function i(t,i){return t.x*i.x+t.y*i.y}function e(e,n){var s=t(e)*t(n);if(0===s)return 0;var r=i(e,n)/s;return r>1&&(r=1),Math.acos(r)}function n(t,i){return t.x*i.y-i.x*t.y}function s(t,i){var s=e(t,i);return n(t,i)>0&&(s*=-1),180*s/Math.PI}function r(t,i){var e=new a(t);return e.add(i),e}var a=function(t){this.handlers=[],this.el=t};a.prototype.add=function(t){this.handlers.push(t)},a.prototype.del=function(t){t||(this.handlers=[]);for(var i=this.handlers.length;i>=0;i--)this.handlers[i]===t&&this.handlers.splice(i,1)},a.prototype.dispatch=function(){for(var t=0,i=this.handlers.length;i>t;t++){var e=this.handlers[t];"function"==typeof e&&e.apply(this.el,arguments)}};var o=function(t,i){this.element="string"==typeof t?document.querySelector(t):t,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var e=function(){};this.rotate=r(this.element,i.rotate||e),this.touchStart=r(this.element,i.touchStart||e),this.multipointStart=r(this.element,i.multipointStart||e),this.multipointEnd=r(this.element,i.multipointEnd||e),this.pinch=r(this.element,i.pinch||e),this.swipe=r(this.element,i.swipe||e),this.tap=r(this.element,i.tap||e),this.doubleTap=r(this.element,i.doubleTap||e),this.longTap=r(this.element,i.longTap||e),this.singleTap=r(this.element,i.singleTap||e),this.pressMove=r(this.element,i.pressMove||e),this.twoFingerPressMove=r(this.element,i.twoFingerPressMove||e),this.touchMove=r(this.element,i.touchMove||e),this.touchEnd=r(this.element,i.touchEnd||e),this.touchCancel=r(this.element,i.touchCancel||e),this._cancelAllHandler=this.cancelAll.bind(this),window.removeEventListener("scroll",this._cancelAllHandler),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}};o.prototype={start:function(i){if(i.touches){this.now=Date.now(),this.x1=i.touches[0].pageX,this.y1=i.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(i,this.element),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var e=this.preV,n=i.touches.length;if(n>1){this._cancelLongTap(),this._cancelSingleTap();var s={x:i.touches[1].pageX-this.x1,y:i.touches[1].pageY-this.y1};e.x=s.x,e.y=s.y,this.pinchStartLen=t(e),this.multipointStart.dispatch(i,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout(function(){this.longTap.dispatch(i,this.element),this._preventTap=!0}.bind(this),750)}},move:function(i){if(i.touches){var e=this.preV,n=i.touches.length,r=i.touches[0].pageX,a=i.touches[0].pageY;if(this.isDoubleTap=!1,n>1){var o=i.touches[1].pageX,h=i.touches[1].pageY,l={x:i.touches[1].pageX-r,y:i.touches[1].pageY-a};null!==e.x&&(this.pinchStartLen>0&&(i.zoom=t(l)/this.pinchStartLen,this.pinch.dispatch(i,this.element)),i.angle=s(l,e),this.rotate.dispatch(i,this.element)),e.x=l.x,e.y=l.y,null!==this.x2&&null!==this.sx2?(i.deltaX=(r-this.x2+o-this.sx2)/2,i.deltaY=(a-this.y2+h-this.sy2)/2):(i.deltaX=0,i.deltaY=0),this.twoFingerPressMove.dispatch(i,this.element),this.sx2=o,this.sy2=h}else null!==this.x2?(i.deltaX=r-this.x2,i.deltaY=a-this.y2):(i.deltaX=0,i.deltaY=0),this.pressMove.dispatch(i,this.element);this.touchMove.dispatch(i,this.element),this._cancelLongTap(),this.x2=r,this.y2=a,n>1&&i.preventDefault()}},end:function(t){if(t.changedTouches){this._cancelLongTap();var i=this;t.touches.length<2&&this.multipointEnd.dispatch(t,this.element),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(t.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout(function(){i.swipe.dispatch(t,this.element)},0)):(this.tapTimeout=setTimeout(function(){i._preventTap||i.tap.dispatch(t,this.element),i.isDoubleTap&&(i.doubleTap.dispatch(t,this.element),clearTimeout(i.singleTapTimeout),i.isDoubleTap=!1)},0),i.isDoubleTap||(i.singleTapTimeout=setTimeout(function(){i.singleTap.dispatch(t,this.element)},250))),this.touchEnd.dispatch(t,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}},cancelAll:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)},cancel:function(t){this.cancelAll(),this.touchCancel.dispatch(t,this.element)},_cancelLongTap:function(){clearTimeout(this.longTapTimeout)},_cancelSingleTap:function(){clearTimeout(this.singleTapTimeout)},_swipeDirection:function(t,i,e,n){return Math.abs(t-i)>=Math.abs(e-n)?t-i>0?"Left":"Right":e-n>0?"Up":"Down"},on:function(t,i){this[t]&&this[t].add(i)},off:function(t,i){this[t]&&this[t].del(i)},destroy:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,null}},window.AlloyFinger=o}(),this.sentinel||function(t,i){sentinel=function(){var t,i,e,n=Array.isArray,s={},r={};return{on:function(a,o){if(o){if(!t){var h=document,l=h.head;h.addEventListener("animationstart",function(t,i,e,n){if(i=r[t.animationName])for(t.stopImmediatePropagation(),e=i.length,n=0;e>n;n++)i[n](t.target)},!0),t=h.createElement("style"),l.insertBefore(t,l.firstChild),i=t.sheet,e=i.cssRules}(n(a)?a:[a]).map(function(t,n,a){n=s[t],n||(a="!"==t[0],s[t]=n=a?t.slice(1):"sentinel-"+Math.random().toString(16).slice(2),e[i.insertRule("@keyframes "+n+"{from{transform:none;}to{transform:none;}}",e.length)]._id=t,a||(e[i.insertRule(t+"{animation-duration:0.0001s;animation-name:"+n+";}",e.length)]._id=t),s[t]=n),(r[n]=r[n]||[]).push(o)})}},off:function(t,a){(n(t)?t:[t]).map(function(t,n,o,h){if(n=s[t]){if(o=r[n],a)for(h=o.length;h--;)o[h]===a&&o.splice(h,1);else o=[];if(!o.length){for(h=e.length;h--;)e[h]._id==t&&i.deleteRule(h);delete s[t],delete r[n]}}})},reset:function(){s={},r={},t&&t.parentNode.removeChild(t),t=0}}}(),i=t.createEvent("HTMLEvents"),i.initEvent("sentinel-load",!1,!1),t.dispatchEvent(i)}(document),new i({el:".Monent"})}(window,document);